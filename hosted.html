<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=5.0,user-scalable=yes">
      <title>Speed Test - SpeedTestGo</title>
      <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icons/favicon-32x32.png">
      <link href="assets/css/index.css" rel="stylesheet" type="text/css" />
      <link href="assets/css/resultsUI.css" rel="stylesheet" type="text/css" />
      <style>
         * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
         }
         html {
            height: 100%;
            scrollbar-width: none;
            overflow-y: auto;
         }
         html::-webkit-scrollbar {
            display: none;
         }
         body {
            margin: 0;
            font-family: 'Space Grotesk', 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding-top: 0;
            display: flex;
            flex-direction: column;
         }
         .nav-header {
            position: sticky;
            top: 0;
            left: 0;
            right: 0;
            background: var(--nav-bg);
            backdrop-filter: blur(10px);
            padding: 18px 30px;
            box-shadow: 0 2px 20px var(--shadow);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 20px;
         }
         .nav-header::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(120deg, rgba(var(--accent-rgb), 0.12), transparent 40%);
            pointer-events: none;
         }
         .nav-header > * {
            position: relative;
            z-index: 1;
         }
         .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 0 24px;
            height: 40px;
            background: var(--accent-gradient);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px var(--accent-glow);
            position: relative;
            overflow: hidden;
         }
         
         .back-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
         }
         
         .back-button:hover::before {
            left: 100%;
         }
         
         .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
         }
         
         @media (max-width: 768px) {
            .back-button .btn-text {
               display: none;
            }
            .back-button {
               padding: 0 16px;
               min-width: 48px;
               height: 48px;
               justify-content: center;
            }
            .nav-title {
               display: none;
            }
            .language-toggle {
               margin-left: auto;
            }
            .lang-btn {
               height: 44px;
               padding: 0 14px;
               font-size: 0.85rem;
            }
            .theme-toggle {
               width: 44px;
               height: 44px;
            }
            .nav-header {
               padding: 12px 20px;
            }
         }
         
         .nav-title {
            font-size: 14px;
            font-weight: 700;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--text);
            padding: 8px 12px;
            border-radius: 999px;
            background: var(--bg-elev);
            border: 1px solid var(--border);
            height: 40px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
         }
         .language-toggle {
            display: flex;
            align-items: center;
            gap: 0;
            margin-left: auto;
         }
         .lang-btn {
            background: transparent;
            color: var(--text-muted);
            border: none;
            padding: 8px 16px;
            border-radius: 999px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            height: 40px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
         }
         .lang-btn.active {
            background: var(--accent-gradient);
            color: #ffffff;
            box-shadow: 0 6px 16px var(--accent-glow);
         }
         .lang-btn:hover {
            color: var(--text);
            background: var(--bg-soft);
         }
         .lang-btn.active:hover {
            color: #ffffff;
            background: var(--accent-gradient);
         }
         .theme-toggle {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--bg-soft);
            border: 1px solid var(--border);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            margin-left: 12px;
         }
         .theme-toggle:hover {
            background: var(--bg-elev);
            border-color: var(--accent);
            transform: scale(1.05);
         }
         .theme-toggle:active {
            transform: scale(0.95);
         }
         .manual-input-section {
            padding: 20px 30px;
            background: var(--bg);
            border-bottom: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 10;
         }
         .toggle-input-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: var(--accent-gradient);
            color: white;
            text-decoration: none;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px var(--accent-glow);
         }
         .toggle-input-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
         }
         .inline-form {
            margin-top: 20px;
            animation: slideDown 0.3s ease;
            width: 100%;
            max-width: 600px;
         }
         @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
         }
         .input-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 20px;
         }
         .input-field label {
            display: block;
            color: var(--text);
            font-weight: 600;
            margin-bottom: 6px;
            font-size: 0.9rem;
         }
         .input-field input {
            width: 100%;
            padding: 10px 14px;
            background: var(--bg-soft);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s ease;
         }
         .input-field input:focus {
            outline: none;
            border-color: var(--accent);
            background: var(--bg-elev);
            box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.2);
         }
         .form-actions {
            display: flex;
            justify-content: center;
         }
         .submit-btn {
            padding: 12px 32px;
            background: var(--accent-gradient);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px var(--accent-glow);
         }
         .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
         }
         @media (max-width: 768px) {
            .manual-input-section {
               padding: 16px 20px;
            }
            .input-grid {
               grid-template-columns: 1fr;
               gap: 12px;
            }
            .toggle-input-btn {
               min-height: 48px;
               padding: 14px 24px;
            }
            .submit-btn {
               min-height: 48px;
               padding: 14px 32px;
            }
            .input-field input {
               min-height: 48px;
               padding: 12px 14px;
               font-size: 16px;
            }
         }
         #speedtest-container {
            margin-top: 0;
            width: 100%;
            min-height: 600px;
            overflow: visible;
            position: relative;
            z-index: 1;
            pointer-events: auto;
            background: var(--bg);
         }
         #speedtest-container.hidden {
            display: none;
         }
         #speedtest-container > div {
            width: 100%;
            height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
         }
         #speedtest-container iframe {
            display: block;
            width: 600px;
            max-width: 100%;
            height: 600px;
            min-height: 500px;
            border: none;
            scrollbar-width: none;
         }
         #speedtest-container iframe::-webkit-scrollbar {
            display: none;
         }
         @media (max-width: 768px) {
            #speedtest-container {
               min-height: 500px;
            }
            #speedtest-container > div {
               height: 500px;
            }
            #speedtest-container iframe {
               height: 500px;
               min-height: 400px;
            }
         }
         
         #results-container {
            display: none;
            padding: 40px 30px;
            max-width: 1200px;
            margin: 0 auto;
            overflow-y: auto;
            height: 100%;
         }
         #results-container.visible {
            display: block;
         }
         .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
         }
         .metric-card {
            background: var(--bg-elev);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
         }
         .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--accent-gradient);
            transform: scaleX(0);
            transition: transform 0.3s ease;
         }
         .metric-card:hover::before {
            transform: scaleX(1);
         }
         .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
         }
         .metric-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
         }
         .metric-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
         }
         .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 4px;
         }
         .metric-unit {
            font-size: 0.95rem;
            color: var(--text-soft);
         }
         .metric-rating {
            margin-top: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 999px;
            display: inline-block;
         }
         .rating-excellent { background: #10b981; color: white; }
         .rating-good { background: #3b82f6; color: white; }
         .rating-fair { background: #f59e0b; color: white; }
         .rating-poor { background: #ef4444; color: white; }
         
         .overall-score-card {
            background: var(--bg-elev);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 40px;
            text-align: center;
            margin-bottom: 32px;
         }
         .overall-score-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 24px;
            color: var(--text);
         }
         .score-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 32px;
            margin-bottom: 16px;
         }
         .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--accent-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            box-shadow: 0 8px 24px var(--accent-glow);
         }
         .score-grade {
            font-size: 3rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }
         .score-description {
            color: var(--text-muted);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
         }
         
         .performance-breakdown,
         .activities-card,
         .recommendations-card {
            background: var(--bg-elev);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
         }
         .performance-breakdown h3,
         .activities-card h3,
         .recommendations-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }
         .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
         }
         .performance-item {
            background: var(--bg-soft);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
         }
         .performance-item h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
         }
         .performance-item p {
            color: var(--text-muted);
            line-height: 1.6;
            margin: 0;
         }
         
         .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
         }
         .activity-item {
            background: var(--bg-soft);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
         }
         .activity-item:hover {
            background: var(--bg-elev);
            transform: translateX(4px);
         }
         .activity-icon {
            font-size: 2rem;
         }
         .activity-info {
            flex: 1;
         }
         .activity-name {
            font-weight: 600;
            color: var(--text);
            font-size: 0.95rem;
         }
         .activity-status {
            font-size: 0.85rem;
            margin-top: 4px;
         }
         .status-excellent { color: #10b981; }
         .status-good { color: #3b82f6; }
         .status-fair { color: #f59e0b; }
         .status-poor { color: #ef4444; }
         
         .recommendations-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
         }
         .recommendations-list li {
            background: var(--bg-soft);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            padding: 16px 20px;
            color: var(--text);
            line-height: 1.6;
            display: flex;
            align-items: start;
            gap: 12px;
         }
         .recommendations-list li::before {
            content: 'üí°';
            font-size: 1.3rem;
            flex-shrink: 0;
         }
         
         .summary-card {
            background: var(--bg-elev);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            margin-top: 24px;
         }
         .summary-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
         }
         .summary-text {
            color: var(--text);
            line-height: 1.6;
            font-size: 1.05rem;
         }
         .action-buttons {
            display: flex;
            gap: 16px;
            margin-top: 32px;
            justify-content: center;
         }
         .action-btn {
            padding: 14px 32px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
         }
         .btn-primary {
            background: var(--accent-gradient);
            color: white;
            box-shadow: 0 4px 12px var(--accent-glow);
         }
         .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
         }
         .btn-secondary {
            background: var(--bg-soft);
            color: var(--text);
            border: 1px solid var(--border);
         }
         .btn-secondary:hover {
            background: var(--bg-elev);
            border-color: var(--accent);
         }
         @media (max-width: 768px) {
            .nav-header {
               padding: 12px 20px;
            }
            .lang-row {
               padding: 8px 20px 0;
            }
            .nav-title {
               font-size: 16px;
            }
            .manual-input-btn {
               padding: 10px 16px;
               font-size: 13px;
            }
            #results-container {
               padding: 24px 16px;
            }
            .results-grid {
               grid-template-columns: 1fr;
               gap: 16px;
            }
            .action-buttons {
               flex-direction: column;
            }
            
            /* Comprehensive Results Mobile */
            .overall-score-card {
               padding: 24px 16px;
            }
            .score-container {
               flex-direction: column;
               gap: 20px;
            }
            .score-circle {
               width: 100px;
               height: 100px;
               font-size: 2rem;
            }
            .score-grade {
               font-size: 2.5rem;
            }
            
            .performance-breakdown,
            .activities-card,
            .recommendations-card {
               padding: 20px 16px;
            }
            .performance-breakdown h3,
            .activities-card h3,
            .recommendations-card h3 {
               font-size: 1.3rem;
            }
            .performance-grid {
               grid-template-columns: 1fr;
               gap: 16px;
            }
            .performance-item {
               padding: 16px;
            }
            
            .activities-grid {
               grid-template-columns: repeat(2, 1fr);
               gap: 12px;
            }
            
            .activity-item {
               flex-direction: column;
               padding: 12px;
               text-align: center;
               gap: 8px;
            }
            
            .activity-icon {
               font-size: 1.8rem;
            }
            
            .activity-info {
               display: flex;
               flex-direction: column;
               align-items: center;
               gap: 4px;
            }
            
            .activity-name {
               font-size: 0.8rem;
               line-height: 1.2;
            }
            
            .activity-status {
               font-size: 0;
               margin-top: 0;
               display: flex;
               align-items: center;
               justify-content: center;
            }
            
            /* Hide status text, show only emoji */
            .activity-status .status-emoji {
               font-size: 1.5rem;
            }
            
            .activity-status .status-text {
               display: none;
            }
            
            .recommendations-list li {
               padding: 12px 16px;
               font-size: 0.95rem;
            }
            
            .toggle-input-btn,
            .submit-btn {
               min-height: 48px;
               font-size: 16px;
            }
            
            .form-group input {
               min-height: 48px;
               font-size: 16px;
            }
         }
         
         /* Manual Input Modal */
         .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.65);
            backdrop-filter: blur(5px);
            z-index: 20000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
         }
         
         .modal-overlay.active {
            display: flex;
         }
         
         @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
         }
         
         .modal-content {
            background: var(--bg-elev);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px var(--shadow);
            animation: slideUp 0.3s ease;
            position: relative;
         }
         .modal-content::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            border: 1px solid rgba(var(--accent-rgb), 0.15);
            pointer-events: none;
         }
         
         @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
         }
         
         .modal-header {
            margin-bottom: 24px;
         }
         
         .modal-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0 0 8px 0;
         }
         
         .modal-header p {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin: 0;
         }
         
         .form-group {
            margin-bottom: 20px;
         }
         
         .form-group label {
            display: block;
            color: var(--text);
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95rem;
         }
         
         .form-group input {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-soft);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s ease;
         }
         
         .form-group input:focus {
            outline: none;
            border-color: var(--accent);
            background: var(--bg-elev);
            box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.2);
         }
         
         .form-group small {
            display: block;
            color: var(--text-soft);
            font-size: 0.85rem;
            margin-top: 4px;
         }
         
         .modal-actions {
            display: flex;
            gap: 12px;
            margin-top: 28px;
         }
         
         .modal-btn {
            flex: 1;
            padding: 14px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
         }
         
         .modal-btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
         }
         
         .modal-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
         }
         
         .modal-btn-secondary {
            background: var(--bg-soft);
            color: var(--text);
            border: 1px solid var(--border);
         }
         
         .modal-btn-secondary:hover {
            background: var(--bg-elev);
         }
         
         /* Large Screen Improvements */
         @media (min-width: 1920px) {
            .nav-header {
               padding: 20px 60px;
               max-width: 2400px;
               margin: 0 auto;
            }
            .manual-input-section {
               padding: 30px 60px;
               max-width: 2400px;
               margin: 0 auto;
            }
            #speedtest-container {
               max-width: 1400px;
               margin: 0 auto;
               padding: 40px 60px;
            }
            #speedtest-container iframe {
               width: 800px;
               height: 700px;
            }
            #speedtest-container > div {
               height: 700px;
            }
            #results-container {
               max-width: 1400px;
               margin: 0 auto;
               padding: 60px;
            }
            .metrics-grid {
               grid-template-columns: repeat(4, 1fr);
               gap: 32px;
            }
            .metric-value {
               font-size: 3rem;
            }
            .summary-card {
               padding: 40px;
               font-size: 1.1rem;
            }
            .inline-form {
               max-width: 900px;
               padding: 32px;
            }
            .form-group input {
               font-size: 1.1rem;
               padding: 16px 18px;
            }
            .nav-title {
               font-size: 16px;
            }
            
            /* Comprehensive Results Large Screen */
            .overall-score-card {
               padding: 50px;
            }
            .score-circle {
               width: 140px;
               height: 140px;
               font-size: 3rem;
            }
            .score-grade {
               font-size: 3.5rem;
            }
            .score-description {
               font-size: 1.2rem;
            }
            
            .performance-breakdown,
            .activities-card,
            .recommendations-card {
               padding: 40px;
            }
            .performance-grid {
               grid-template-columns: repeat(2, 1fr);
               gap: 28px;
            }
            .performance-item {
               padding: 24px;
            }
            .activities-grid {
               grid-template-columns: repeat(3, 1fr);
               gap: 20px;
            }
         }
         
         @media (min-width: 2560px) {
            .nav-header,
            .manual-input-section,
            #speedtest-container,
            #results-container {
               max-width: 2800px;
            }
            #speedtest-container iframe {
               width: 1000px;
               height: 800px;
            }
            #speedtest-container > div {
               height: 800px;
            }
            body {
               font-size: 18px;
            }
         }
      </style>
   </head>
   <body>
      <div class="nav-header">
         <a href="index.html" class="back-button">
            <span>‚Üê</span>
            <span class="btn-text" data-i18n="nav.back">Back to Home</span>
         </a>
         <span class="nav-title" data-i18n="nav.title">SpeedTestGo</span>
         
         <div class="language-toggle" aria-label="Language toggle">
            <button class="lang-btn active" type="button" data-lang="en" aria-pressed="true">English</button>
            <button class="lang-btn" type="button" data-lang="tl" aria-pressed="false">Tagalog</button>
         </div>
         
         <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme" title="Toggle dark/light mode">
            <span id="theme-icon">üåô</span>
         </button>
      </div>

      <!-- Manual Input Section -->
      <div class="manual-input-section">
         <button class="toggle-input-btn" onclick="toggleManualInput()">
            <span>üìù</span>
            <span data-i18n="nav.manualInput">Enter Results</span>
         </button>
         
         <div id="inlineInputForm" class="inline-form" style="display: none;">
            <form id="manualInputForm">
               <div class="input-grid">
                  <div class="input-field">
                     <label for="downloadSpeed" data-i18n="form.downloadLabel">Download (Mbps) *</label>
                     <input type="number" id="downloadSpeed" step="0.01" min="0" required placeholder="100.50">
                  </div>
                  
                  <div class="input-field">
                     <label for="uploadSpeed" data-i18n="form.uploadLabel">Upload (Mbps) *</label>
                     <input type="number" id="uploadSpeed" step="0.01" min="0" required placeholder="20.00">
                  </div>
                  
                  <div class="input-field">
                     <label for="pingLatency" data-i18n="form.pingLabel">Ping (ms) *</label>
                     <input type="number" id="pingLatency" step="1" min="0" required placeholder="25">
                  </div>
                  
                  <div class="input-field">
                     <label for="jitterValue" data-i18n="form.jitterLabel">Jitter (ms) *</label>
                     <input type="number" id="jitterValue" step="0.1" min="0" required placeholder="5">
                  </div>
               </div>
               
               <div class="form-actions">
                  <button type="submit" class="submit-btn" data-i18n="form.analyze">Show Results</button>
               </div>
            </form>
         </div>
      </div>

      <div id="speedtest-container">
         <div>
            <iframe
               src="https://speedtestgo.com/"
               allowfullscreen>
            </iframe>
         </div>
      </div>
      
      <!-- Results Container -->
      <div id="results-container">
         <div class="results-grid">
            <div class="metric-card">
               <div class="metric-icon">‚¨áÔ∏è</div>
               <div class="metric-label" data-i18n="results.download">Download</div>
               <div class="metric-value" id="download-value">0</div>
               <div class="metric-unit">Mbps</div>
               <div class="metric-rating" id="download-rating"></div>
            </div>
            
            <div class="metric-card">
               <div class="metric-icon">‚¨ÜÔ∏è</div>
               <div class="metric-label" data-i18n="results.upload">Upload</div>
               <div class="metric-value" id="upload-value">0</div>
               <div class="metric-unit">Mbps</div>
               <div class="metric-rating" id="upload-rating"></div>
            </div>
            
            <div class="metric-card">
               <div class="metric-icon">üì°</div>
               <div class="metric-label" data-i18n="results.ping">Ping</div>
               <div class="metric-value" id="ping-value">0</div>
               <div class="metric-unit">ms</div>
               <div class="metric-rating" id="ping-rating"></div>
            </div>
            
            <div class="metric-card">
               <div class="metric-icon">üìä</div>
               <div class="metric-label" data-i18n="results.jitter">Jitter</div>
               <div class="metric-value" id="jitter-value">0</div>
               <div class="metric-unit">ms</div>
               <div class="metric-rating" id="jitter-rating"></div>
            </div>
         </div>
         
         <!-- Overall Score -->
         <div class="overall-score-card">
            <h3 data-i18n="results.overallScore">Overall Connection Score</h3>
            <div class="score-container">
               <div class="score-circle" id="overall-score">0</div>
               <div class="score-grade" id="overall-grade">-</div>
            </div>
            <div class="score-description" id="score-description"></div>
         </div>
         
         <!-- Performance Breakdown -->
         <div class="performance-breakdown">
            <h3 data-i18n="results.performanceTitle">Performance Analysis</h3>
            <div class="performance-grid">
               <div class="performance-item" id="download-analysis"></div>
               <div class="performance-item" id="upload-analysis"></div>
               <div class="performance-item" id="latency-analysis"></div>
               <div class="performance-item" id="stability-analysis"></div>
            </div>
         </div>
         
         <!-- Supported Activities -->
         <div class="activities-card">
            <h3 data-i18n="results.activitiesTitle">What You Can Do</h3>
            <div class="activities-grid" id="activities-list"></div>
         </div>
         
         <!-- Recommendations -->
         <div class="recommendations-card">
            <h3 data-i18n="results.recommendationsTitle">Recommendations</h3>
            <ul class="recommendations-list" id="recommendations-list"></ul>
         </div>
         
         <div class="action-buttons">
            <button class="action-btn btn-secondary" onclick="resetTest()">
               <span>üîÑ</span>
               <span data-i18n="results.testAgain">Test Again</span>
            </button>
            <button class="action-btn btn-primary" onclick="openManualInput()">
               <span>üìù</span>
               <span data-i18n="results.newInput">New Input</span>
            </button>
         </div>
      </div>
      
      <!-- Manual Input Modal -->
      <div id="manualInputModal" class="modal-overlay">
         <div class="modal-content">
            <div class="modal-header">
               <h2 data-i18n="modal.title">Enter Speed Test Results</h2>
               <p data-i18n="modal.subtitle">Input your test results from SpeedTestGo</p>
            </div>
            
            <form id="manualInputForm">
               <div class="form-group">
                  <label for="downloadSpeed" data-i18n="form.downloadLabel">Download Speed (Mbps) *</label>
                  <input type="number" id="downloadSpeed" step="0.01" min="0" required placeholder="e.g., 100.50" data-i18n-placeholder="form.downloadPlaceholder">
                  <small data-i18n="form.downloadHelp">Your download speed in megabits per second</small>
               </div>
               
               <div class="form-group">
                  <label for="uploadSpeed" data-i18n="form.uploadLabel">Upload Speed (Mbps) *</label>
                  <input type="number" id="uploadSpeed" step="0.01" min="0" required placeholder="e.g., 20.00" data-i18n-placeholder="form.uploadPlaceholder">
                  <small data-i18n="form.uploadHelp">Your upload speed in megabits per second</small>
               </div>
               
               <div class="form-group">
                  <label for="pingLatency" data-i18n="form.pingLabel">Ping / Latency (ms) *</label>
                  <input type="number" id="pingLatency" step="1" min="0" required placeholder="e.g., 25" data-i18n-placeholder="form.pingPlaceholder">
                  <small data-i18n="form.pingHelp">Response time - Typical range: 10-100 ms</small>
               </div>
               
               <div class="form-group">
                  <label for="jitterValue" data-i18n="form.jitterLabel">Jitter (ms) *</label>
                  <input type="number" id="jitterValue" step="0.1" min="0" required placeholder="e.g., 5" data-i18n-placeholder="form.jitterPlaceholder">
                  <small data-i18n="form.jitterHelp">Ping variation - Lower is better (< 10 ms is good)</small>
               </div>
               
               <div class="modal-actions">
                  <button type="button" class="modal-btn modal-btn-secondary" onclick="closeManualInput()" data-i18n="form.cancel">Cancel</button>
                  <button type="submit" class="modal-btn modal-btn-primary" data-i18n="form.analyze">Show Results</button>
               </div>
            </form>
         </div>
      </div>
      
      <script>
         function toggleManualInput() {
            const form = document.getElementById('inlineInputForm');
            if (form.style.display === 'none') {
               form.style.display = 'block';
            } else {
               form.style.display = 'none';
            }
         }
         
         function resetTest() {
            document.getElementById('speedtest-container').classList.remove('hidden');
            document.getElementById('results-container').classList.remove('visible');
         }
         
         function showResults(download, upload, ping, jitter) {
            // Update metric values
            document.getElementById('download-value').textContent = download.toFixed(2);
            document.getElementById('upload-value').textContent = upload.toFixed(2);
            document.getElementById('ping-value').textContent = ping.toFixed(0);
            document.getElementById('jitter-value').textContent = jitter.toFixed(1);
            
            // Add ratings to metrics
            addMetricRating('download-rating', evaluateDownload(download));
            addMetricRating('upload-rating', evaluateUpload(upload));
            addMetricRating('ping-rating', evaluatePing(ping));
            addMetricRating('jitter-rating', evaluateJitter(jitter));
            
            // Calculate overall score
            const overallScore = calculateOverallScore(download, upload, ping, jitter);
            displayOverallScore(overallScore);
            
            // Generate comprehensive analysis
            generateComprehensiveAnalysis(download, upload, ping, jitter);
            
            // Display supported activities
            displaySupportedActivities(download, upload, ping, jitter);
            
            // Generate recommendations
            generateRecommendations(download, upload, ping, jitter);
            
            // Hide iframe, show results
            document.getElementById('speedtest-container').classList.add('hidden');
            document.getElementById('results-container').classList.add('visible');
         }
         
         function addMetricRating(elementId, evaluation) {
            const element = document.getElementById(elementId);
            element.textContent = evaluation.label;
            element.className = 'metric-rating ' + evaluation.class;
         }
         
         function evaluateDownload(speed) {
            if (speed >= 100) return { label: 'Excellent', class: 'rating-excellent', score: 100 };
            if (speed >= 50) return { label: 'Very Good', class: 'rating-good', score: 85 };
            if (speed >= 25) return { label: 'Good', class: 'rating-good', score: 70 };
            if (speed >= 10) return { label: 'Fair', class: 'rating-fair', score: 50 };
            return { label: 'Poor', class: 'rating-poor', score: 30 };
         }
         
         function evaluateUpload(speed) {
            if (speed >= 35) return { label: 'Excellent', class: 'rating-excellent', score: 100 };
            if (speed >= 10) return { label: 'Very Good', class: 'rating-good', score: 80 };
            if (speed >= 5) return { label: 'Good', class: 'rating-good', score: 65 };
            if (speed >= 2) return { label: 'Fair', class: 'rating-fair', score: 45 };
            return { label: 'Poor', class: 'rating-poor', score: 25 };
         }
         
         function evaluatePing(ping) {
            if (ping < 20) return { label: 'Excellent', class: 'rating-excellent', score: 100 };
            if (ping < 50) return { label: 'Good', class: 'rating-good', score: 80 };
            if (ping < 100) return { label: 'Fair', class: 'rating-fair', score: 60 };
            if (ping < 150) return { label: 'Poor', class: 'rating-poor', score: 40 };
            return { label: 'Very Poor', class: 'rating-poor', score: 20 };
         }
         
         function evaluateJitter(jitter) {
            if (jitter < 5) return { label: 'Excellent', class: 'rating-excellent', score: 100 };
            if (jitter < 10) return { label: 'Good', class: 'rating-good', score: 80 };
            if (jitter < 20) return { label: 'Fair', class: 'rating-fair', score: 60 };
            if (jitter < 30) return { label: 'Poor', class: 'rating-poor', score: 40 };
            return { label: 'Very Poor', class: 'rating-poor', score: 20 };
         }
         
         function calculateOverallScore(download, upload, ping, jitter) {
            const downloadScore = evaluateDownload(download).score;
            const uploadScore = evaluateUpload(upload).score;
            const pingScore = evaluatePing(ping).score;
            const jitterScore = evaluateJitter(jitter).score;
            
            // Weighted average: Download 40%, Upload 25%, Ping 20%, Jitter 15%
            const weighted = (downloadScore * 0.4) + (uploadScore * 0.25) + (pingScore * 0.2) + (jitterScore * 0.15);
            return Math.round(weighted);
         }
         
         function displayOverallScore(score) {
            document.getElementById('overall-score').textContent = score;
            
            let grade, description;
            if (score >= 90) {
               grade = 'A+';
               description = 'Outstanding! Your connection is excellent for all online activities.';
            } else if (score >= 80) {
               grade = 'A';
               description = 'Excellent! Your connection performs very well across all metrics.';
            } else if (score >= 70) {
               grade = 'B';
               description = 'Good! Your connection handles most activities without issues.';
            } else if (score >= 60) {
               grade = 'C';
               description = 'Fair. Your connection works for basic tasks but may struggle with demanding activities.';
            } else if (score >= 50) {
               grade = 'D';
               description = 'Below average. You may experience issues with video calls and streaming.';
            } else {
               grade = 'F';
               description = 'Poor connection. Consider contacting your ISP or upgrading your plan.';
            }
            
            document.getElementById('overall-grade').textContent = grade;
            document.getElementById('score-description').textContent = description;
         }
         
         function generateComprehensiveAnalysis(download, upload, ping, jitter) {
            // Download Analysis
            let downloadHTML = '<h4>‚¨áÔ∏è Download Speed</h4>';
            if (download >= 100) {
               downloadHTML += '<p><strong>Excellent</strong> - Perfect for 4K/8K streaming, large file downloads, and multiple simultaneous users.</p>';
            } else if (download >= 50) {
               downloadHTML += '<p><strong>Very Good</strong> - Suitable for HD/4K streaming, gaming, and working from home.</p>';
            } else if (download >= 25) {
               downloadHTML += '<p><strong>Good</strong> - Adequate for HD streaming, video calls, and web browsing.</p>';
            } else if (download >= 10) {
               downloadHTML += '<p><strong>Fair</strong> - Works for SD streaming and basic browsing. HD streaming may buffer.</p>';
            } else {
               downloadHTML += '<p><strong>Poor</strong> - Limited to basic web browsing. Streaming and downloads will be slow.</p>';
            }
            
            // Upload Analysis
            let uploadHTML = '<h4>‚¨ÜÔ∏è Upload Speed</h4>';
            if (upload >= 35) {
               uploadHTML += '<p><strong>Excellent</strong> - Perfect for content creators, live streaming, and video conferencing.</p>';
            } else if (upload >= 10) {
               uploadHTML += '<p><strong>Very Good</strong> - Suitable for HD video calls, cloud backups, and file sharing.</p>';
            } else if (upload >= 5) {
               uploadHTML += '<p><strong>Good</strong> - Adequate for standard video calls and uploading photos.</p>';
            } else if (upload >= 2) {
               uploadHTML += '<p><strong>Fair</strong> - Limited for video calls. Cloud uploads will be slow.</p>';
            } else {
               uploadHTML += '<p><strong>Poor</strong> - Very limited upload capability. Video calls may not work well.</p>';
            }
            
            // Latency Analysis
            let latencyHTML = '<h4>üì° Latency (Ping)</h4>';
            if (ping < 20) {
               latencyHTML += '<p><strong>Excellent</strong> - Ideal for competitive gaming and real-time applications. Virtually no delay.</p>';
            } else if (ping < 50) {
               latencyHTML += '<p><strong>Good</strong> - Great for gaming and video conferencing with minimal delay.</p>';
            } else if (ping < 100) {
               latencyHTML += '<p><strong>Fair</strong> - Acceptable for most activities. Slight delay in online games.</p>';
            } else if (ping < 150) {
               latencyHTML += '<p><strong>Poor</strong> - Noticeable delay in games and video calls.</p>';
            } else {
               latencyHTML += '<p><strong>Very Poor</strong> - Significant lag. Real-time activities will be difficult.</p>';
            }
            
            // Stability Analysis
            let stabilityHTML = '<h4>üìä Stability (Jitter)</h4>';
            if (jitter < 5) {
               stabilityHTML += '<p><strong>Excellent</strong> - Very stable connection. Consistent performance for all activities.</p>';
            } else if (jitter < 10) {
               stabilityHTML += '<p><strong>Good</strong> - Stable connection with minimal variation.</p>';
            } else if (jitter < 20) {
               stabilityHTML += '<p><strong>Fair</strong> - Moderate stability. Occasional quality drops in video/audio.</p>';
            } else if (jitter < 30) {
               stabilityHTML += '<p><strong>Poor</strong> - Unstable connection. Frequent interruptions likely.</p>';
            } else {
               stabilityHTML += '<p><strong>Very Poor</strong> - Highly unstable. Quality issues will be common.</p>';
            }
            
            document.getElementById('download-analysis').innerHTML = downloadHTML;
            document.getElementById('upload-analysis').innerHTML = uploadHTML;
            document.getElementById('latency-analysis').innerHTML = latencyHTML;
            document.getElementById('stability-analysis').innerHTML = stabilityHTML;
         }
         
         function displaySupportedActivities(download, upload, ping, jitter) {
            const activities = [
               { name: 'Web Browsing', icon: 'üåê', minDown: 5, minUp: 1, maxPing: 150, maxJitter: 50 },
               { name: 'Email', icon: 'üìß', minDown: 1, minUp: 1, maxPing: 200, maxJitter: 50 },
               { name: 'Social Media', icon: 'üì±', minDown: 5, minUp: 3, maxPing: 150, maxJitter: 40 },
               { name: 'Music Streaming', icon: 'üéµ', minDown: 2, minUp: 0.5, maxPing: 150, maxJitter: 30 },
               { name: 'SD Video (480p)', icon: 'üì∫', minDown: 3, minUp: 1, maxPing: 150, maxJitter: 30 },
               { name: 'HD Video (720p)', icon: 'üé¨', minDown: 5, minUp: 1, maxPing: 100, maxJitter: 25 },
               { name: 'Full HD (1080p)', icon: 'üìΩÔ∏è', minDown: 10, minUp: 3, maxPing: 100, maxJitter: 25 },
               { name: '4K Streaming', icon: 'üñ•Ô∏è', minDown: 25, minUp: 5, maxPing: 100, maxJitter: 20 },
               { name: 'Video Calling', icon: 'üìπ', minDown: 3, minUp: 3, maxPing: 100, maxJitter: 30 },
               { name: 'HD Video Calls', icon: 'üíª', minDown: 10, minUp: 5, maxPing: 80, maxJitter: 20 },
               { name: 'Online Gaming', icon: 'üéÆ', minDown: 15, minUp: 5, maxPing: 50, maxJitter: 20 },
               { name: 'Competitive Gaming', icon: 'üèÜ', minDown: 25, minUp: 10, maxPing: 30, maxJitter: 10 },
               { name: 'Live Streaming', icon: 'üì°', minDown: 10, minUp: 25, maxPing: 100, maxJitter: 20 },
               { name: 'Cloud Gaming', icon: '‚òÅÔ∏è', minDown: 35, minUp: 10, maxPing: 40, maxJitter: 15 },
               { name: 'Large File Downloads', icon: '‚¨áÔ∏è', minDown: 50, minUp: 5, maxPing: 150, maxJitter: 40 },
               { name: 'Cloud Backup', icon: 'üíæ', minDown: 5, minUp: 20, maxPing: 150, maxJitter: 30 },
            ];
            
            let html = '';
            activities.forEach(activity => {
               const supportsDownload = download >= activity.minDown;
               const supportsUpload = upload >= activity.minUp;
               const supportsPing = ping <= activity.maxPing;
               const supportsJitter = jitter <= activity.maxJitter;
               
               const supported = supportsDownload && supportsUpload && supportsPing && supportsJitter;
               const marginal = (download >= activity.minDown * 0.7) && (upload >= activity.minUp * 0.7) && 
                              (ping <= activity.maxPing * 1.3) && (jitter <= activity.maxJitter * 1.3);
               
               let status, statusClass, statusText;
               if (supported) {
                  status = '‚úÖ';
                  statusClass = 'status-excellent';
                  statusText = 'Fully Supported';
               } else if (marginal) {
                  status = '‚ö†Ô∏è';
                  statusClass = 'status-fair';
                  statusText = 'May Work';
               } else {
                  status = '‚ùå';
                  statusClass = 'status-poor';
                  statusText = 'Not Supported';
               }
               
               html += `
                  <div class="activity-item">
                     <div class="activity-icon">${activity.icon}</div>
                     <div class="activity-info">
                        <div class="activity-name">${activity.name}</div>
                        <div class="activity-status ${statusClass}">
                           <span class="status-emoji">${status}</span>
                           <span class="status-text">${statusText}</span>
                        </div>
                     </div>
                  </div>
               `;
            });
            
            document.getElementById('activities-list').innerHTML = html;
         }
         
         function generateRecommendations(download, upload, ping, jitter) {
            const recommendations = [];
            
            // Download recommendations
            if (download < 25) {
               recommendations.push('Consider upgrading your internet plan for better download speeds. Current speed may struggle with HD streaming.');
            } else if (download < 100 && download >= 50) {
               recommendations.push('Your download speed is good for most needs. Consider upgrading if you frequently stream 4K content or have multiple users.');
            }
            
            // Upload recommendations
            if (upload < 5) {
               recommendations.push('Your upload speed is limited. Video calls and cloud uploads may be slow. Consider upgrading if you work from home.');
            } else if (upload < 10) {
               recommendations.push('Upload speed is adequate for basic needs. Upgrade if you frequently share large files or stream content.');
            }
            
            // Ping recommendations
            if (ping > 100) {
               recommendations.push('High latency detected. Contact your ISP if this persists. Close background applications that may be using bandwidth.');
            } else if (ping > 50) {
               recommendations.push('Latency is moderate. Online gaming experience may be affected. Try using a wired connection for better performance.');
            } else {
               recommendations.push('Excellent latency! Your connection is great for real-time applications and gaming.');
            }
            
            // Jitter recommendations
            if (jitter > 20) {
               recommendations.push('High jitter indicates an unstable connection. Run the test at different times to identify patterns. Consider contacting your ISP.');
            } else if (jitter > 10) {
               recommendations.push('Moderate jitter detected. Video call quality may vary. Reduce the number of connected devices if possible.');
            } else {
               recommendations.push('Connection stability is excellent! Your internet performs consistently.');
            }
            
            // General recommendations
            const overallScore = calculateOverallScore(download, upload, ping, jitter);
            if (overallScore < 60) {
               recommendations.push('Your overall connection quality is below average. Consider switching ISPs or upgrading your plan.');
            }
            
            if (ping > 50 || jitter > 15) {
               recommendations.push('For better performance, use a wired Ethernet connection instead of WiFi when possible.');
            }
            
            recommendations.push('Run multiple tests at different times of the day to get a complete picture of your internet performance.');
            
            let html = '';
            recommendations.forEach(rec => {
               html += `<li>${rec}</li>`;
            });
            
            document.getElementById('recommendations-list').innerHTML = html;
         }
         
         
         // Handle form submission
         document.getElementById('manualInputForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const download = parseFloat(document.getElementById('downloadSpeed').value) || 0;
            const upload = parseFloat(document.getElementById('uploadSpeed').value) || 0;
            const ping = parseFloat(document.getElementById('pingLatency').value) || 0;
            const jitter = parseFloat(document.getElementById('jitterValue').value) || 0;
            
            showResults(download, upload, ping, jitter);
            
            // Hide inline form and reset
            document.getElementById('inlineInputForm').style.display = 'none';
            document.getElementById('manualInputForm').reset();
         });
      </script>
      <script>
         const langButtons = document.querySelectorAll('.lang-btn');
         const translatableElements = document.querySelectorAll('[data-i18n]');
         const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');

         const translations = {
            en: {
               'nav.back': 'Back to Home',
               'nav.title': 'SpeedTestGo',
               'nav.manualInput': 'Enter Results',
               'modal.title': 'Enter Speed Test Results',
               'modal.subtitle': 'Input your test results from SpeedTestGo',
               'form.downloadLabel': 'Download (Mbps) *',
               'form.downloadPlaceholder': 'e.g., 100.50',
               'form.downloadHelp': 'Your download speed in megabits per second',
               'form.uploadLabel': 'Upload (Mbps) *',
               'form.uploadPlaceholder': 'e.g., 20.00',
               'form.uploadHelp': 'Your upload speed in megabits per second',
               'form.pingLabel': 'Ping (ms) *',
               'form.pingPlaceholder': 'e.g., 25',
               'form.pingHelp': 'Response time - Typical range: 10-100 ms',
               'form.jitterLabel': 'Jitter (ms) *',
               'form.jitterPlaceholder': 'e.g., 5',
               'form.jitterHelp': 'Ping variation - Lower is better (< 10 ms is good)',
               'form.cancel': 'Cancel',
               'form.analyze': 'Show Results',
               'results.download': 'Download',
               'results.upload': 'Upload',
               'results.ping': 'Ping',
               'results.jitter': 'Jitter',
               'results.summaryTitle': 'Connection Analysis',
               'results.overallScore': 'Overall Connection Score',
               'results.performanceTitle': 'Performance Analysis',
               'results.activitiesTitle': 'What You Can Do',
               'results.recommendationsTitle': 'Recommendations',
               'results.testAgain': 'Test Again',
               'results.newInput': 'New Input'
            },
            tl: {
               'nav.back': 'Bumalik sa Home',
               'nav.title': 'SpeedTestGo',
               'nav.manualInput': 'Ilagay ang Resulta',
               'modal.title': 'Ilagay ang Resulta ng Speed Test',
               'modal.subtitle': 'Ilagay ang resulta ng test mula sa SpeedTestGo',
               'form.downloadLabel': 'Download (Mbps) *',
               'form.downloadPlaceholder': 'hal., 100.50',
               'form.downloadHelp': 'Bilis ng download sa megabits kada segundo',
               'form.uploadLabel': 'Upload (Mbps) *',
               'form.uploadPlaceholder': 'hal., 20.00',
               'form.uploadHelp': 'Bilis ng upload sa megabits kada segundo',
               'form.pingLabel': 'Ping (ms) *',
               'form.pingPlaceholder': 'hal., 25',
               'form.pingHelp': 'Oras ng tugon - karaniwang saklaw: 10-100 ms',
               'form.jitterLabel': 'Jitter (ms) *',
               'form.jitterPlaceholder': 'hal., 5',
               'form.jitterHelp': 'Pagbabago ng ping - Mas mababa ay mas mabuti (< 10 ms ay mabuti)',
               'form.cancel': 'Kanselahin',
               'form.analyze': 'Ipakita ang Resulta',
               'results.download': 'Download',
               'results.upload': 'Upload',
               'results.ping': 'Ping',
               'results.jitter': 'Jitter',
               'results.summaryTitle': 'Pagsusuri ng Koneksyon',
               'results.overallScore': 'Kabuuang Puntos ng Koneksyon',
               'results.performanceTitle': 'Pagsusuri ng Pagganap',
               'results.activitiesTitle': 'Ano ang Maaari Mong Gawin',
               'results.recommendationsTitle': 'Mga Rekomendasyon',
               'results.testAgain': 'Subukan Muli',
               'results.newInput': 'Bagong Input'
            }
         };

         let currentLang = 'en';

         const t = (key) => {
            const dictionary = translations[currentLang] || translations.en;
            return dictionary[key] || translations.en[key] || key;
         };

         const applyTranslations = () => {
            translatableElements.forEach((el) => {
               const key = el.getAttribute('data-i18n');
               if (key) {
                  el.textContent = t(key);
               }
            });
            placeholderElements.forEach((el) => {
               const key = el.getAttribute('data-i18n-placeholder');
               if (key) {
                  el.setAttribute('placeholder', t(key));
               }
            });
            document.documentElement.lang = currentLang;
         };

         const setLanguage = (lang) => {
            currentLang = translations[lang] ? lang : 'en';
            applyTranslations();
            langButtons.forEach((btn) => {
               const isActive = btn.getAttribute('data-lang') === currentLang;
               btn.classList.toggle('active', isActive);
               btn.setAttribute('aria-pressed', isActive ? 'true' : 'false');
            });
            try {
               localStorage.setItem('preferredLang', currentLang);
            } catch (e) {
               // ignore storage errors
            }
         };

         const savedLang = localStorage.getItem('preferredLang') || 'en';
         setLanguage(savedLang);

         langButtons.forEach((btn) => {
            btn.addEventListener('click', () => {
               const lang = btn.getAttribute('data-lang');
               if (lang) setLanguage(lang);
            });
         });
      </script>
      <script>
         const savedTheme = localStorage.getItem('theme');
         const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
         const initialTheme = savedTheme || (prefersDark ? 'dark' : 'light');
         document.body.classList.toggle('dark', initialTheme === 'dark');
         document.body.classList.toggle('light', initialTheme === 'light');
         
         // Update theme icon based on current theme
         function updateThemeIcon() {
            const isDark = document.body.classList.contains('dark');
            document.getElementById('theme-icon').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
         }
         
         // Toggle theme function
         function toggleTheme() {
            const isDark = document.body.classList.contains('dark');
            const newTheme = isDark ? 'light' : 'dark';
            
            document.body.classList.remove('dark', 'light');
            document.body.classList.add(newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon();
         }
         
         // Initialize icon
         updateThemeIcon();
      </script>

   </body>
</html>
